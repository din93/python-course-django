{% extends "base.html" %}

{% block page_title %}
  Доступные курсы
{% endblock %}

    {% block page_heading %}
    <h1 class="mt-4 mb-3">Доступные курсы</h1>
    {% endblock %}

    {% block page_breadcrumb %}
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a href="#">Домашняя страница</a>
      </li>
      <li class="breadcrumb-item active">Доступные курсы</li>
    </ol>
    {% endblock %}

    {% block page_content %}
    {% for course in courses|dictsortreversed:"created" %}
    <div class="row">
      <div class="col-md-7">
        <a href="{% url 'courses:detail' course_id=course.id %}">
          {% if course.thumbnail %}
            {% if 'http' in course.thumbnail.url %}
            <img class="img-fluid rounded mb-3 mb-md-0" src="{{course.thumbnail}}" alt="course_thumbnail">
            {% else %}
            <img class="img-fluid rounded mb-3 mb-md-0" src="{{course.thumbnail.url}}" alt="course_thumbnail">
            {% endif %}
          {% endif %}
        </a>
      </div>
      <div class="col-md-5">
        <h3>Курс "{{course.title}}"</h3>
        <p>{{course.overview|truncatewords_html:40|linebreaksbr}}</p>
        {% if course.prereqs %}
        <h4>Необходимые знания:</h3>
        <p>{{course.prereqs|truncatewords_html:35|linenumbers|linebreaksbr}}</p>
        {% endif %}
        <a class="btn btn-primary" href="{% url 'courses:detail' course_id=course.id %}">Подробнее
          <span class="glyphicon glyphicon-chevron-right"></span>
        </a>
        <a class="btn btn-success" href="{% url 'courses:lessons' course_id=course.id %}">Список лекций
          <span class="glyphicon glyphicon-chevron-right"></span>
        </a>
      </div>
    </div>
    <!-- /.row -->

    <hr>
    {% endfor %}

    <!-- Pagination -->
    <ul class="pagination justify-content-center">
      <li class="page-item">
        <a class="page-link" href="#" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
          <span class="sr-only">Previous</span>
        </a>
      </li>
      <li class="page-item">
        <a class="page-link" href="#">1</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="#">2</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="#">3</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="#" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
          <span class="sr-only">Next</span>
        </a>
      </li>
    </ul>

  </div>
  <!-- /.container -->
  {% endblock %}
